<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>LofiLand</title>

  <style>
    :root{
      --bg:#070a10;
      --panel: rgba(17,22,32,0.72);
      --panel2: rgba(10,14,22,0.78);
      --line: rgba(255,255,255,0.08);
      --txt: rgba(236,242,255,0.92);
      --muted: rgba(236,242,255,0.62);
      --accent:#67d9ff;
      --danger:#ff5e8a;
      --shadow: rgba(0,0,0,0.55);
      --radius:16px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      --brand: "Trebuchet MS", "Segoe UI", system-ui, sans-serif;
    }

    html,body{height:100%;}
    body{
      margin:0;
      background:
        radial-gradient(1000px 600px at 20% 20%, rgba(103,217,255,0.12), transparent 60%),
        radial-gradient(900px 600px at 80% 30%, rgba(176,107,255,0.10), transparent 60%),
        var(--bg);
      color:var(--txt);
      font-family:var(--sans);
    }

    .app{
      max-width:1200px;
      margin:18px auto;
      padding:0 16px 24px;
      display:grid;
      grid-template-columns:1.2fr 0.8fr;
      gap:16px;
    }

    .frame{
      background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:0 18px 40px var(--shadow);
      overflow:hidden;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 14px;
      border-bottom:1px solid var(--line);
      background:rgba(0,0,0,0.18);
    }

    .brand b{
      font-family:var(--brand);
      font-size:18px;
      letter-spacing:1.2px;
    }

    .status{
      font-family:var(--mono);
      font-size:11px;
      color:var(--muted);
      padding:6px 10px;
      border:1px solid var(--line);
      border-radius:999px;
      background:rgba(0,0,0,0.22);
      max-width:60%;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .scene{
      position:relative;
      aspect-ratio:16/9;
      background:#02040a;
    }

    .scene canvas{
      width:100%;
      height:100%;
      display:block;
    }

    .label{
      position:absolute;
      left:10px;
      bottom:10px;
      padding:6px 10px;
      font-size:12px;
      border-radius:999px;
      background:rgba(0,0,0,0.45);
      border:1px solid rgba(255,255,255,0.1);
    }

    .controls{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:16px;
      padding:14px;
    }

    .panel{
      background:var(--panel2);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:12px;
    }

    h3{
      margin:0 0 10px;
      font-size:12px;
      letter-spacing:0.8px;
      text-transform:uppercase;
      color:rgba(236,242,255,0.8);
    }

    .row,.btns{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    button,select{
      border:1px solid var(--line);
      background:rgba(0,0,0,0.2);
      color:var(--txt);
      padding:10px 12px;
      border-radius:12px;
      font-size:12px;
      cursor:pointer;
    }

    button.primary{border-color:rgba(103,217,255,0.45);}
    button.danger{border-color:rgba(255,94,138,0.45);}

    .control{
      display:grid;
      grid-template-columns:110px 1fr 54px;
      gap:8px;
      align-items:center;
      font-size:12px;
      margin:8px 0;
    }

    .control .val{
      text-align:right;
      font-family:var(--mono);
      font-size:11px;
      color:var(--muted);
    }

    input[type="range"]{
      width:100%;
      accent-color:var(--accent);
    }

    .wave{
      width:100%;
      height:90px;
      border-radius:12px;
      border:1px solid var(--line);
      background:rgba(0,0,0,0.22);
    }

    .footer{
      padding:12px 14px;
      border-top:1px solid var(--line);
      background:rgba(0,0,0,0.15);
      display:flex;
      gap:10px;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .badge{
      font-family:var(--mono);
      font-size:11px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background:rgba(0,0,0,0.22);
      color:var(--muted);
    }
  </style>
</head>

<body>
<div class="app">
  <div class="frame">

    <div class="topbar">
      <div class="brand"><b>LofiLand</b></div>
      <div class="status" id="status">Idle.</div>
    </div>

    <div class="scene">
      <canvas id="scene"></canvas>
      <div class="label" id="sceneLabel">Scene: Ramen Rain</div>
    </div>

    <div class="controls">
      <div class="panel">
        <h3>Transport</h3>
        <div class="row">
          <button class="primary" id="init">Init Audio</button>
          <button class="primary" id="play">Play</button>
          <button class="danger" id="stop">Stop</button>
          <button id="shuffle">Soft Shuffle</button>
        </div>

        <h3 style="margin-top:12px">Arranger</h3>
        <div class="control">
          <div>Tempo</div>
          <input id="tempo" type="range" min="70" max="120" value="92">
          <div class="val" id="tempoV">92</div>
        </div>
        <div class="control">
          <div>Variety</div>
          <input id="variety" type="range" min="0" max="1" step="0.01" value="0.35">
          <div class="val" id="varietyV">0.35</div>
        </div>

        <h3 style="margin-top:12px">CRT</h3>
        <div class="control">
          <div>Glow</div>
          <input id="glow" type="range" min="0" max="1" step="0.01" value="0.3">
          <div class="val" id="glowV">0.30</div>
        </div>
        <div class="control">
          <div>Vignette</div>
          <input id="vignette" type="range" min="0" max="1" step="0.01" value="0.35">
          <div class="val" id="vignetteV">0.35</div>
        </div>
      </div>

      <div class="panel">
        <h3>Scene</h3>
        <div class="btns">
          <button data-scene="ramen">Ramen Rain</button>
          <button data-scene="hello_world">Hello World</button>
          <button data-scene="submarine">Submarine Drift</button>
        </div>

        <h3 style="margin-top:12px">Mix</h3>
        <div class="control">
          <div>Music</div>
          <input id="trackVol" type="range" min="0" max="1" step="0.01" value="0.8">
          <div class="val" id="trackVolV">0.80</div>
        </div>
        <div class="control">
          <div>Muffle</div>
          <input id="muffle" type="range" min="0" max="1" step="0.01" value="0.25">
          <div class="val" id="muffleV">0.25</div>
        </div>
        <div class="control">
          <div>Wobble</div>
          <input id="wobble" type="range" min="0" max="1" step="0.01" value="0.2">
          <div class="val" id="wobbleV">0.20</div>
        </div>
        <div class="control">
          <div>Conversation</div>
          <input id="convVol" type="range" min="0" max="1" step="0.01" value="0.08">
          <div class="val" id="convVolV">0.08</div>
        </div>

        <h3 style="margin-top:12px">Waveform</h3>
        <canvas id="wave" class="wave" width="560" height="90"></canvas>
      </div>
    </div>

    <div class="footer">
      <div class="badge" id="packBadge">Pack: lofi</div>
      <div class="badge" id="barBadge">Bar: 1</div>
      <div class="badge" id="variantBadge">Variety: 0.35</div>
    </div>
  </div>
</div>

<script>
  // JS unchanged except for label consistency and video path:
  // hello world video should be placed at /video/hello_world.mp4
</script>

</body>
</html>
